(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x;$.Define($$,{YC:{GraphParsingDemo:{Client:{FileControl:$.Field(function(){var y,M;y=function(){var A,B,C,D,J,K;A=b.New();B=c.ofArray([f.Attr().NewAttr("type","file"),f.Attr().NewAttr("accept","text/*")]);C=g.Tags().NewTag("input",B);D=function(E){return function(){var G,H;G=E.Dom.files.item(0);H=new h();H.readAsText(G);return H.addEventListener("load",function(){return A.event.Trigger($.New(l,{$:0,$0:H.result}));},true);};};m.Events().OnChange(D,C);J=C;K=function(){J.set_Value("");return A.event.Trigger($.New(l,{$:0,$0:""}));};return[J,K,A.event];};M=o.BuildFormlet(y);return o.InitWith("",M);}),InputControl:function(N,O){var P,Q,_5,_6;P=o.Do();Q=P.Delay(function(){var S,T;S=o.Do();T=S.Delay(function(){return S.Bind(r.FileControl(),function(V){return S.Return(V);});});return P.Bind(s.WithFormContainer(T),function(W){var X,Y,Z,_0,_1,_2,_3;X=W===""?O:W;Y=t.TextArea(X);Z=s.WithTextLabel(N,Y);_0=s.WithLabelAbove(Z);_1=r.getFormSize(90,540);_2=_1[0];_3=_1[1];return P.Bind(r.setFormSize(_2,_3,"textarea",_0),function(_4){return P.Return(_4);});});});_5=o.FlipBody(Q);_6=o.Vertical(_5);return s.WithFormContainer(_6);},Main:function(){var _7;_7=c.ofArray([r.MegaGigaForm().Run(function(){return null;})]);return g.Tags().NewTag("div",_7);},MegaGigaForm:$.Field(function(){var _9,_,bg,bh,bi,bp,bq,bt,bu,bv,bw,bx,by,b4,b5;_9=o.Do();_=_9.Delay(function(){return _9.Bind(r.InputControl("Graph",""),function(bb){var bc,bd,be;bc=t.Checkbox(false);bd=s.WithTextLabel("Show formal subgraph",bc);be=s.WithLabelLeft(bd);return _9.Bind(s.WithFormContainer(be),function(bf){return _9.Return([bb,bf]);});});});bg=o.Vertical(_);bh=o.Do();bi=bh.Delay(function(){return bh.Bind(r.InputControl("Grammar",""),function(bk){var bl,bm,bn;bl=t.Checkbox(false);bm=s.WithTextLabel("Remove redundant nodes",bl);bn=s.WithLabelLeft(bm);return bh.Bind(s.WithFormContainer(bn),function(bo){return bh.Return([bk,bo]);});});});bp=o.Vertical(bi);bq=u.$(u.$(o.Return(function(br){return function(bs){return[br,bs];};}),bp),bg);bt=o.Horizontal(bq);bu=v.get_Default();bv=$.New(v,{Label:{$:1,$0:"Show me love"},Style:{$:1,$0:r.style()},Class:bu.Class});bw=s.WithCustomSubmitButton(bv,bt);bx=o.Vertical(bw);by=function(bz){var bA,bB,bC,bD,bE,bF,bG,bH,bL,bM,bN,bO,bR,bS,bV,bW,bX,bY,bZ,b0;bA=bz[0];bB=bz[1];bC=bA[0];bD=bA[1];bE=bB[0];bF=bB[1];bG=o.Do();bH=bG.Delay(function(){return bG.Bind(r.ShowGraphImageControl("Graph Visualization",bC,bD,bE,bF),function(bJ){return bG.Bind(r.ShowSPPFImageControl("SPPF",bC,bD,bE,bF),function(bK){return bG.Return([bJ,bK]);});});});bL=o.Horizontal(bH);bM=s.WithFormContainer(bL);bN=o.Do();bO=bN.Delay(function(){return bN.Bind(bM,function(bQ){return bN.Return(bQ);});});bR=o.Do();bS=bR.Delay(function(){return bR.Bind(r.RangeControl(),function(bU){return bR.Return(bU);});});bV=v.get_Default();bW=$.New(v,{Label:{$:1,$0:"\u0418\u0437\u0432\u043b\u0435\u0447\u044c \u0447\u043e\u0442\u043e"},Style:{$:1,$0:r.style()},Class:bV.Class});bX=s.WithCustomSubmitButton(bW,bS);bY=o.Horizontal(bX);bZ=o.Do();b0=bZ.Delay(function(){return bZ.Bind(bO,function(b2){return bZ.Bind(bY,function(b3){return bZ.Return([b2,b3]);});});});return o.Vertical(b0);};b4=o.Do();b5=b4.Delay(function(){return b4.Bind(bx,function(b7){return b4.Bind(by(b7),function(b8){return b4.Return([b7,b8]);});});});return o.Vertical(b5);}),RangeControl:$.Field(function(){var b8,b$,ch,cp,cq,cr;b$=o.Do();ch=o.Do();b8=u.$(u.$(o.Return(function(b9){return function(b_){return[b9<<0,b_<<0];};}),b$.Delay(function(){var cb,cc,cd,ce,cf;cb=t.Input("");cc=s.WithTextLabel("Initial",cb);cd=r.getFormSize(20,50);ce=cd[0];cf=cd[1];return b$.Bind(r.setFormSize(ce,cf,"input",cc),function(cg){return b$.Return(cg);});})),ch.Delay(function(){var cj,ck,cl,cm,cn;cj=t.Input("");ck=s.WithTextLabel("Final",cj);cl=r.getFormSize(20,50);cm=cl[0];cn=cl[1];return ch.Bind(r.setFormSize(cm,cn,"input",ck),function(co){return ch.Return(co);});}));cp=o.Horizontal(b8);cq=s.WithTextLabel("Vertices",cp);cr=s.WithLabelAbove(cq);return s.WithFormContainer(cr);}),ShowGraphImageControl:function(cs){var cx,cB,cC;cx=o.OfElement(function(){var cz,cA;cz="height: "+(r.getFormSize(90,540))[0]+"; width: "+(r.getFormSize(120,540))[1];cA=c.ofArray([f.Attr().NewAttr("style",cz),f.Attr().NewAttr("src","yeahboy.png")]);return g.Tags().NewTag("img",cA);});cB=s.WithTextLabel(cs,cx);cC=s.WithLabelAbove(cB);return s.WithFormContainer(cC);},ShowSPPFImageControl:function(cD){var cI,cM,cN;cI=o.OfElement(function(){var cK,cL;cK="height: "+(r.getFormSize(90,540))[0]+"; width: "+(r.getFormSize(120,540))[1];cL=c.ofArray([f.Attr().NewAttr("style",cK),f.Attr().NewAttr("src","yeahboy.png")]);return g.Tags().NewTag("img",cL);});cM=s.WithTextLabel(cD,cI);cN=s.WithLabelAbove(cM);return s.WithFormContainer(cN);},getFormSize:function(cO,cP){var cQ,cR;cQ=cO*r.screenHeight()/638>>0;cR=cP*r.screenWidth()/1366>>0;return[w(cQ)+"px",w(cR)+"px"];},screenHeight:$.Field(function(){return x("html").height();}),screenWidth:$.Field(function(){return x("html").width();}),setFormSize:function(cS,cT,cU,cV){var cW;cW=function(cX){x(cX.Dom.querySelector(cU)).css("height",cS).css("width",cT);return cX;};return o.MapElement(cW,cV);},style:$.Field(function(){return"padding-top: 0px; background-color: #FF69B4; border-width: 0px; border-color: #000000; border-radius: 10px; color: #000000; height: "+(r.getFormSize(40,150))[0]+"; width: "+(r.getFormSize(40,150))[1]+"; font-size:"+(r.getFormSize(15,15))[0];})}}}});$.OnInit(function(){a=$.Safe($$.WebSharper.Control);b=$.Safe(a.FSharpEvent);c=$.Safe($$.WebSharper.List);d=$.Safe($$.WebSharper.Html);e=$.Safe(d.Client);f=$.Safe(e.Attr);g=$.Safe(e.Tags);h=$.Safe($$.FileReader);i=$.Safe($$.IntelliFactory);j=$.Safe(i.Formlets);k=$.Safe(j.Base);l=$.Safe(k.Result);m=$.Safe(e.EventsPervasives);n=$.Safe($$.WebSharper.Formlets);o=$.Safe(n.Formlet);p=$.Safe($$.YC);q=$.Safe(p.GraphParsingDemo);r=$.Safe(q.Client);s=$.Safe(n.Enhance);t=$.Safe(n.Controls);u=$.Safe(n.Data);v=$.Safe(s.FormButtonConfiguration);w=$.Safe($$.String);return x=$.Safe($$.jQuery);});$.OnLoad(function(){r.style();r.screenWidth();r.screenHeight();r.RangeControl();r.MegaGigaForm();r.FileControl();return;});}());
